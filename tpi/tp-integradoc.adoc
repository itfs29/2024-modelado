:imagesdir: ./images
//:stylesheet: daro-dark.css

= Trabajo Practico integrador

image::2024-10-06T11-45-51-457Z.png[]

<<<

== Descripcion

La cuota se abona por adelantado, en efectivo o tarjeta de crédito. Si se abona con tarjeta de crédito existen promociones en 3 y 6 cuotas. 
La inscripción por primera vez en el club implica completar los datos de la ficha y presentar apto físico.
Posee un plantel propio de profesores, y en caso de ausencias recurre al listado de suplentes para cubrirlos.
Vencido el período de pago, automáticamente el socio no puede realizar actividades. 
Para retomar, debe pagar la cuota, y el plazo de pago comienza a correr a partir del día siguiente al vencimiento de la cuota.


Desarrollar diagramas de clases en plantuml de la siguiente funcionalidad:

* Registro de los socios y de los no socios
* Entrega de carnet y cobro de cuota mensual o diaria
* Listado diario de los socios que en la fecha les vence la cuota

== Diagrama de casos de uso

image::2024-10-06T11-39-31-409Z.png[]

== Diagramas de clases

ifdef::env-github[]
[%collapsible]
endif::[]
ifndef::env-github[]
[%collapsible%open]
endif::[]
====

[plantuml, target=i880841834, svg]
....
@startuml

!theme spacelab

class Persona {
    -nombre: String
    -apellido: String
    -dni: String
}

class Socio {
    -nroCarnet: int
    -carnetEmitido: Boolean
    -fechaInscripcion: Date
    -cuotaDiaVencimiento: Int
    -cuotaFechaUltimoPago: Int
    -cuotas: Cuota[]
    +registrar(): Socio
    +pagar(cuota: Cuota): void
}


class NoSocio {
    -actividades: Actividad[]
    +registrar(): NoSocio
    +pagar(actividad: Actividad): void
}

class Actividad {
    -nombre: String
    -importe: Double
}

NoSocio *-- Actividad

Persona <|-- Socio
Persona <|-- NoSocio

class Cuota {
    -importe: Double
    -fechaVencimiento: Date
    -cantidadCuotas: Int
    -fechaPago: Date
    -medioPago: String
}

Socio *-- Cuota

@enduml
....

====

ifdef::env-github[]
image::i880841834.svg[] 
endif::[]

<<<

== Diagrama de secuencia

Diagrama de secuencia para caso de uso "Registrar"

ifdef::env-github[]
[%collapsible]
endif::[]
ifndef::env-github[]
[%collapsible%open]
endif::[]
====

[mermaid, target=k503774163, svg]
....

sequenceDiagram
    
    CLIENTE->>+REGISTRAR: APELLIDO, DNI, TIPO CLIENTE, PRESENTA APTO FISICO
    REGISTRAR->>+VALIDAR: DATOS CLIENTE
    alt Apto Fisico no Presentado
        VALIDAR-->>REGISTRAR: Error: debe presentar apto fisico
        REGISTRAR-->>CLIENTE: Mostrar error
    end
    alt Buscar DNI
        VALIDAR-->>REGISTRAR: Error: cliente ya existe
        REGISTRAR-->>CLIENTE: mostrar error
    end
    VALIDAR-->>-REGISTRAR: datos correctos
    REGISTRAR->>+BASE DE DATOS: persistir cliente
    alt Error al persistir
        BASE DE DATOS-->>REGISTRAR: Error: no se puede persistir en base de datos
        REGISTRAR-->>CLIENTE: mostrar error
    end
    BASE DE DATOS-->>-REGISTRAR: persistencia correcta
    alt tipo-cliente=socio
        REGISTRAR-)EMITIR CARNET: emitir carnet
    end
    REGISTRAR->>+COBRAR: cobrar
    alt Error al persistir
        COBRAR-->>REGISTRAR: Error: error al cobrar
        REGISTRAR-->>CLIENTE: Mostrar error
    end
    COBRAR-->>-REGISTRAR: COBRO OK
    REGISTRAR->>-CLIENTE: mostrar "Operación exitosa"
....

====

ifdef::env-github[]
image::k503774163.svg[] 
endif::[]

//image::2024-10-28T00-03-55-265Z.png[]

